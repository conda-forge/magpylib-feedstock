{% set name = "magpylib" %}
{% set version = "5.2.2" %}

package:
  name: {{ name|lower }}
  version: {{ version }}

source:
  url: https://pypi.org/packages/source/{{ name[0] }}/{{ name }}/{{ name }}-{{ version }}.tar.gz
  sha256: 2e46f6d4cd482e097c65ae973f26711f7d8a097346c6980d9a337c17f7fa0060

build:
  number: 1
  noarch: python
  script: {{ PYTHON }} -m pip install . -vv

requirements:
  host:
    - python {{ python_min }}
    - pip
    - hatchling
    - hatch-vcs
  run:
    - python >={{ python_min }}
    - matplotlib-base >=3.3
    - numpy >=1.20
    - scipy >=1.7
    - plotly >=5.3
test:
  requires:
    - python {{ python_min }}
  imports:
    - magpylib

about:
  home: http://github.com/magpylib/magpylib
  license: AGPL-3.0-or-later
  license_family: AGPL
  license_file: LICENSE
  summary: A simple, user friendly Python 3 toolbox for calculating magnetic fields from permanent magnets and current distributions.

  description: |
    magpylib provides simple and easy to use classes for calculating magnetic
    fields depending only on numpy and matplotlib. The core of the library is
    the source class which can represent permanent magnets, current
    distributions or magnetic moments in a 3D space. The library provides simple
    ways to generate such source objects, to manipulate them geometrically, to
    group several sources into a Collection system and to calculate the
    resulting fields of such systems. The systems may also be quickly visualized
    with a matplotlib based 3D plot method.
  doc_url: https://magpylib.readthedocs.io/en/latest/
  dev_url: https://github.com/magpylib/magpylib

extra:
  recipe-maintainers:
    - OrtnerMichael
    - lucasgcb
